---
title: 快速开始
description: Create your first AI Agent from scratch
---

import { Steps } from '@astrojs/starlight/components';
import { Code } from '@astrojs/starlight/components';
import quickstartExample from '../../../../../../examples/docs/quickstart/index.ts?raw';
import createAgentExample from '../../../../../../examples/docs/quickstart/createAgent.ts?raw';
import runAgentExample from '../../../../../../examples/docs/quickstart/runAgent.ts?raw';
import agentWithToolsExample from '../../../../../../examples/docs/quickstart/agentWithTools.ts?raw';
import additionalAgentsExample from '../../../../../../examples/docs/quickstart/additionalAgents.ts?raw';
import defineHandoffsExample from '../../../../../../examples/docs/quickstart/defineHandoffs.ts?raw';
import runOrchestrationExample from '../../../../../../examples/docs/quickstart/runOrchestration.ts?raw';

## 项目设置

<Steps>

1. 创建一个项目并初始化 npm。你只需要做一次。

   ```bash
   mkdir my_project
   cd my_project
   npm init -y
   ```

2. 安装 Agents SDK 和 Zod。SDK 使用 Zod v4 来定义工具 schema 和 structured outputs。

   ```bash
   npm install @openai/agents zod
   ```

3. 设置 OpenAI API key。如果你还没有，请按照[这些说明](https://platform.openai.com/docs/quickstart#create-and-export-an-api-key)创建一个 OpenAI API key。

   ```bash
   export OPENAI_API_KEY=sk-...
   ```

   或者，你也可以调用 `setDefaultOpenAIKey('<api key>')` 以编程方式设置 key，并使用 `setTracingExportApiKey('<api key>')` 进行追踪。
   更多细节请参阅[SDK 配置指南](/openai-agents-js/zh/guides/config)。

</Steps>

## 创建首个智能体

智能体通过 instructions 和名称来定义。

<Code lang="typescript" code={createAgentExample} title="创建智能体" />

## 首次运行智能体

你可以使用 `run` 方法来运行智能体。触发一次运行时，需要同时传入你要启动的智能体和要传入的输入。

这会返回一个运行结果，其中包含最终输出以及本次运行期间执行的所有操作。

<Code lang="typescript" code={runAgentExample} title="运行智能体" />

在第二轮中，你可以将 `result.history` 传回 `run()`，绑定一个[会话](/openai-agents-js/zh/guides/sessions)，或通过
`conversationId` / `previousResponseId` 复用 OpenAI 服务器管理的状态。[运行智能体](/openai-agents-js/zh/guides/running-agents)
指南对比了这些方法。

## 为智能体添加工具

你可以为智能体提供工具，用于查询信息或执行操作。

<Code lang="typescript" code={agentWithToolsExample} title="添加工具" />

## 添加更多智能体

你也可以类似地定义更多智能体，将问题拆分为更小的部分，让智能体更专注于当前任务。
此外，通过在智能体上定义模型，你还可以针对不同问题使用不同模型。

<Code lang="typescript" code={additionalAgentsExample} title="创建专家智能体" />

## 定义交接

为了在多个智能体之间进行编排，你可以为智能体定义 `handoffs`。这样智能体就能将对话传递给下一个智能体。
这一过程会在运行期间自动发生。

<Code lang="typescript" code={defineHandoffsExample} title="定义交接" />

运行结束后，你可以通过查看结果中的 `lastAgent` 属性，确认是哪个智能体生成了最终响应。

## 运行智能体编排

runner 会处理单个智能体执行、交接以及工具调用。

<Code lang="typescript" code={runOrchestrationExample} title="运行智能体编排" />

## 整体集成

现在把这些整合成一个完整示例。将其放入你的 `index.js` 文件并运行。
如果你的应用已经配置为 TypeScript，也可以改用 `index.ts`。

<Code lang="typescript" code={quickstartExample} title="快速开始" />

## 查看追踪

Agents SDK 会自动为你生成追踪。这让你可以查看智能体如何运行、调用了哪些工具，以及交接到了哪个智能体。

要查看你的智能体运行期间发生了什么，请前往
[OpenAI Dashboard 中的 Trace 查看器](https://platform.openai.com/traces)。

## 后续步骤

了解如何构建更复杂的智能体流程：

- 了解如何配置[智能体](/openai-agents-js/zh/guides/agents)。
- 了解[运行智能体](/openai-agents-js/zh/guides/running-agents)和[会话](/openai-agents-js/zh/guides/sessions)。
- 了解[工具](/openai-agents-js/zh/guides/tools)、[护栏](/openai-agents-js/zh/guides/guardrails)和[模型](/openai-agents-js/zh/guides/models)。
